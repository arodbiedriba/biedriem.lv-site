<!DOCTYPE html>
<html lang="lv">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NeatkarÄ«gÄ policistu arodbiedrÄ«ba</title>
  <link rel="stylesheet" href="../css/style.css">

  <style>
    /* ZiÅ†u lenta â€“ NPA lapai (IEM + LV portÄls) */
    .news-ticker {
      background: #0c275c;
      color: white;
      padding: 10px 0;
      overflow: hidden;
      white-space: nowrap;
      font-size: 18px;
      font-weight: 500;
      cursor: default;
      margin-bottom: 4px;
    }

    .news-ticker-content {
      display: inline-block;
      padding-left: 100%;
      animation: ticker 90s linear infinite;
    }

    .news-ticker:hover .news-ticker-content {
      animation-play-state: paused;
    }

    @keyframes ticker {
      0%   { transform: translateX(0%); }
      100% { transform: translateX(-100%); }
    }
  </style>
</head>

<body>
  <header class="home-header home-header--npa">
    <h1>NeatkarÄ«gÄ policistu arodbiedrÄ«ba</h1>
    <p class="subtagline">
      Policijas darbinieku tiesÄ«bu un intereÅ¡u aizstÄvÄ«ba â€”<br>
      <strong>vienÄ«gÄ Valsts policijas darbinieku arodbiedrÄ«ba ar spÄ“kÄ esoÅ¡u koplÄ«gumu.</strong>
    </p>

    <nav>
      <ul>
        <li><a href="../index.html">â† AtpakaÄ¼ uz galveno lapu</a></li>
        <li><a href="index.html">SÄkums</a></li>
        <li><a href="about.html">Par mums</a></li>
        <li><a href="contact.html">Kontakti</a></li>
        <li><a href="partners.html">Partneri</a></li>
      </ul>
    </nav>
  </header>

  <!-- NPA PRIMÄ€RÄ€ LENTA: IekÅ¡lietu ministrija + LV portÄls -->
  <div class="news-ticker">
    <span class="news-ticker-content" id="tickerPrimary">
      IelÄdÄ“ oficiÄlÄs ziÅ†as...
    </span>
  </div>

  <main class="home-main npa-theme">
    <section>
      <p>
        NeatkarÄ«gÄ policistu arodbiedrÄ«ba (NPA) apvieno policijas darbiniekus, tai skaitÄ amatpersonas ar
        speciÄlajÄm dienesta pakÄpÄ“m, lai aizstÄvÄ“tu viÅ†u sociÄlÄs, ekonomiskÄs un profesionÄlÄs intereses.
      </p>
      <p>
        Å obrÄ«d tiek atjaunota mÄjaslapa un publiski pieejamÄ informÄcija par koplÄ«gumu, sociÄlajÄm garantijÄm
        un disciplinÄrpraksi.
      </p>
    </section>

    <section>
      <h2>KoplÄ«gums ar Valsts policiju</h2>

      <!-- KOPLÄªGUMA FOTO BLOKS (stils definÄ“ts style.css) -->
      <div class="agreement-image-block">
        <a href="../img/NPA_VP_Kopligums_master.png" target="_blank">
          <picture>
            <source srcset="../img/NPA_VP_Kopligums_1400w.webp" type="image/webp">
            <img
              src="../img/NPA_VP_Kopligums_master.png"
              alt="NeatkarÄ«gÄs policistu arodbiedrÄ«bas un Valsts policijas koplÄ«guma parakstÄ«tais dokuments"
              class="agreement-image"
            >
          </picture>
        </a>
        <p class="img-caption">
          NPA un Valsts policijas koplÄ«guma oriÄ£inÄlais parakstÄ«tais dokuments
        </p>
      </div>

      <p>
        NPA un Valsts policijas koplÄ«gums, kas noslÄ“gts 2006. gada 19. oktobrÄ«, joprojÄm ir spÄ“kÄ un
        piemÄ“rojams gan darbiniekiem, kuri strÄdÄ uz darba lÄ«guma pamata, gan amatpersonÄm ar speciÄlajÄm
        dienesta pakÄpÄ“m.
      </p>
      <p>
        <a class="btn" href="about.html#kopligums">LasÄ«t vairÄk par koplÄ«guma spÄ“kÄ esamÄ«bu</a>
      </p>
    </section>
  </main>

  <footer>
    <p>&copy; 2008â€“2025 NeatkarÄ«gÄ policistu arodbiedrÄ«ba</p>
  </footer>

  <script>
    // RSS avoti: IekÅ¡lietu ministrija + LV portÄls
    const RSS_IEM       = "https://api.rss2json.com/v1/api.json?rss_url=https://www.iem.gov.lv/lv/rss.xml";
    const RSS_LVPORTALS = "https://api.rss2json.com/v1/api.json?rss_url=https://lvportals.lv/rss";

    function extractTitles(data, max = 8) {
      if (!data || !data.items) return [];
      return data.items.slice(0, max).map(item => item.title);
    }

    // ApvienotÄ lenta: IEM + LV portÄls
    Promise.all([
      fetch(RSS_IEM).then(r => r.json()).catch(() => null),
      fetch(RSS_LVPORTALS).then(r => r.json()).catch(() => null)
    ]).then(([iemData, lvData]) => {

      let titles = [];
      titles = titles.concat(extractTitles(iemData, 6));
      titles = titles.concat(extractTitles(lvData, 6));

      const text = titles.length
        ? "ğŸ›‚ " + titles.join(" â€¢ ")
        : "Nav pieejamu oficiÄlo ziÅ†u.";

      document.getElementById("tickerPrimary").textContent = text;

    }).catch(() => {
      document.getElementById("tickerPrimary").textContent =
        "NeizdevÄs ielÄdÄ“t oficiÄlÄs ziÅ†as.";
    });
  </script>

</body>
</html>

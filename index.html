<!DOCTYPE html>
<html lang="lv">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Policistu arodbiedrÄ«ba un citas sadarbÄ«bas organizÄcijas â€“ biedriem.lv</title>
  <meta name="description"
        content="NeatkarÄ«gÄ policistu arodbiedrÄ«ba â€“ policistu arodbiedrÄ«ba LatvijÄ. Biedriem.lv ir kopÄ«ga platforma policistu, IT speciÄlistu un juristu arodbiedrÄ«bÄm.">

  <link rel="stylesheet" href="css/style.css">

  <style>
    .news-ticker {
      background: #123b82;
      color: white;
      padding: 10px 0;
      overflow: hidden;
      white-space: nowrap;
      font-size: 18px;
      font-weight: 500;
      cursor: pointer;
      margin-top: 20px;
      margin-bottom: 4px;
      position: relative;
    }

    .news-track {
      display: inline-block;
      will-change: transform;
      transform: translateX(0);
      transition: transform 0.08s linear;
      padding-left: 100%;
    }

    .org-title {
      text-align: center !important;
      width: 100%;
      display: block;
      font-size: 1.3rem;
      line-height: 1.4;
      padding: 10px 5px;
      word-wrap: break-word;
      overflow-wrap: break-word;
    }

    @media (max-width: 600px) {
      .org-title {
        font-size: 1.5rem;
        padding: 15px 8px;
      }
    }
  </style>
</head>

<body>
  <header class="home-header">
    <h1>NeatkarÄ«gÄ policistu arodbiedrÄ«ba un sadarbÄ«bas organizÄcijas</h1>
    <p>
      Biedriem.lv ir platforma, kur apvienotas policistu arodbiedrÄ«ba, informÄcijas tehnoloÄ£iju speciÄlistu arodbiedrÄ«ba un latvieÅ¡u juristu apvienÄ«ba.
    </p>

    
  <div class="lang-switch">
    <span>Valoda:</span>
    <a href="index.html" class="active">LV</a> |
    <a href="ru/index.html">RU</a> |
    <a href="en/index.html">EN</a> |
    <a href="de/index.html">DE</a>
  </div>
  </header>

  <div class="news-ticker" aria-label="LSM un LV portÄla ziÅ†u lente â€“ augÅ¡Ä">
    <span class="news-track" id="newsTickerTop">
      IelÄdÄ“ ziÅ†as...
    </span>
  </div>

  <main class="home-main">
    <div class="org-list">


  <div class="org-tile">

    <a class="org-text" href="npa/index.html">
      <span class="org-title">NeatkarÄ«gÄ policistu arodbiedrÄ«ba â€” policistu arodbiedrÄ«ba LatvijÄ</span>
    </a>

    <a class="org-logo-link" href="img/NPA Logo.png" target="_blank" rel="noopener">
      <picture class="org-logo-wrap">
        <source srcset="img/NPA Logo.webp" type="image/webp">
        <img class="org-logo" src="img/NPA Logo.png" alt="NPA logo">
      </picture>
    </a>
  </div>

  <div class="org-tile">
    <a class="org-text" href="itsa/index.html">
      <span class="org-title">InformÄcijas tehnoloÄ£iju speciÄlistu arodbiedrÄ«ba</span>
    </a>

    <a class="org-logo-link" href="img/ITSA Logo.png" target="_blank" rel="noopener">
      <picture class="org-logo-wrap">
        <source srcset="img/ITSA Logo.webp" type="image/webp">
        <img class="org-logo" src="img/ITSA Logo.png" alt="ITSA logo">
      </picture>
    </a>
  </div>

  <div class="org-tile">
    <a class="org-text" href="lja/index.html">
      <span class="org-title">LatvieÅ¡u juristu apvienÄ«ba</span>
    </a>

    <a class="org-logo-link" href="img/LJA Logo.png" target="_blank" rel="noopener">
      <picture class="org-logo-wrap">
        <source srcset="img/LJA Logo.webp" type="image/webp">
        <img class="org-logo" src="img/LJA Logo.png" alt="LJA logo">
      </picture>
    </a>
  </div>

</div>

    <div class="news-ticker" aria-label="LSM un LV portÄla ziÅ†u lente â€“ apakÅ¡Ä">
  <span class="news-track" id="newsTickerBottom">IelÄdÄ“ ziÅ†as...</span>
</div>

<section class="greeting" aria-label="ZiemassvÄ“tku un JaunÄ gada novÄ“lÄ“jums">
  <div class="greeting-card">
    <div class="greeting-media">
      <img src="img/V.Skrastina_Ziemassvetku_foto.png"
           alt="ZiemassvÄ“tku un JaunÄ gada novÄ“lÄ“jums â€“ svÄ“tku foto"
           loading="lazy">
    </div>

    <div class="greeting-text">
      <h2>ğŸ„ ZiemassvÄ“tku un JaunÄ gada novÄ“lÄ“jums</h2>

      <p><strong>CienÄ«jamie biedri, kolÄ“Ä£i un sadarbÄ«bas partneri,</strong></p>

      <p>
        ZiemassvÄ“tku laikÄ vÄ“lam mieru, sirds siltumu un droÅ¡Ä«bas sajÅ«tu JÅ«su Ä£imenÄ“s,
        bet JaunajÄ gadÄ â€” spÄ“ku, profesionÄlu pÄrliecÄ«bu un taisnÄ«gu darba vidi.
      </p>

      <p>
        Lai 2026. gads nes skaidrus mÄ“rÄ·us, saliedÄ“tÄ«bu un savstarpÄ“ju cieÅ†u,
        stiprinot gan katru no mums individuÄli, gan mÅ«su kopÄ«gÄs vÄ“rtÄ«bas.
      </p>

      <p>
        Ar pateicÄ«bu par uzticÄ“Å¡anos un sadarbÄ«bu,<br>
        <strong>JÅ«su organizÄcijas â€“ biedriem.lv</strong>
      </p>
    </div>
  </div>
</section>
  </main>

  <footer>
    <p>&copy; 2008â€“2025 Biedriem.lv â€“ policistu arodbiedrÄ«ba un sadarbÄ«bas organizÄcijas</p>
    <p>Å obrÄ«d vietnÄ“: <strong><span id="onlineCount">0</span></strong></p>
  </footer>

  <script>

    const RSS_LSM       = "https://api.rss2json.com/v1/api.json?rss_url=https://www.lsm.lv/rss/?lang=lv";
    const RSS_LVPORTALS = "https://api.rss2json.com/v1/api.json?rss_url=https://lvportals.lv/rss";

    const topTrack    = document.getElementById('newsTickerTop');
    const bottomTrack = document.getElementById('newsTickerBottom');

    const speed  = 55; 
    const stepMs = 40;

    function makeTicker(trackElement, containerElement) {
      let offset      = 0;
      let playing     = true;
      let dragging    = false;
      let dragStartX  = 0;
      let offsetStart = 0;

      function tick() {
        if (!playing || dragging) return;
        offset -= (speed * stepMs) / 1000;
        const trackWidth = trackElement.offsetWidth;
        if (-offset > trackWidth) {
          offset = 0;
        }
        trackElement.style.transform = `translateX(${offset}px)`;
      }

      setInterval(tick, stepMs);

      containerElement.addEventListener('mouseenter', () => {
        playing = false;
      });

      containerElement.addEventListener('mouseleave', () => {
        if (!dragging) playing = true;
      });

      containerElement.addEventListener('mousedown', (e) => {
        dragging = true;
        playing = false;
        dragStartX = e.clientX;
        offsetStart = offset;
      });

      window.addEventListener('mousemove', (e) => {
        if (!dragging) return;
        const dx = e.clientX - dragStartX;
        offset = offsetStart + dx;
        trackElement.style.transform = `translateX(${offset}px)`;
      });

      window.addEventListener('mouseup', () => {
        if (!dragging) return;
        dragging = false;
        playing = true;
      });
    }

    function extractTitles(data, max = 6) {
      if (!data || !data.items) return [];
      return data.items.slice(0, max).map(item => item.title);
    }

    Promise.all([
      fetch(RSS_LSM).then(r => r.json()).catch(() => null),
      fetch(RSS_LVPORTALS).then(r => r.json()).catch(() => null)
    ]).then(([lsmData, lvData]) => {
      const lsmTitles = extractTitles(lsmData, 6);
      const lvTitles  = extractTitles(lvData, 6);

      let allTitles = [];
      allTitles = allTitles
        .concat(lsmTitles.map(t => "ğŸ“° " + t))
        .concat(lvTitles.map(t => "âš–ï¸ " + t));

      const text = allTitles.length
        ? allTitles.join(" â€¢ ")
        : "Nav pieejamu LSM vai LV portÄla ziÅ†u.";

      const finalText = allTitles.length ? text + " â€¢ " + text : text;

      topTrack.textContent    = finalText;
      bottomTrack.textContent = finalText;

      makeTicker(topTrack,    topTrack.parentElement);
      makeTicker(bottomTrack, bottomTrack.parentElement);
    }).catch(() => {
      const fallback = "NeizdevÄs ielÄdÄ“t ziÅ†u lentes saturu.";
      topTrack.textContent    = fallback;
      bottomTrack.textContent = fallback;
    });

  let tabId = sessionStorage.getItem('tabId');
  if (!tabId) {
    tabId = (crypto.randomUUID ? crypto.randomUUID() : String(Date.now()) + Math.random());
    sessionStorage.setItem('tabId', tabId);
  }

  fetch('/ping.php?tab=' + encodeURIComponent(tabId), { cache: 'no-store' }).catch(()=>{});

  fetch('/online.php', { cache: 'no-store' })
    .then(r => r.text())
    .then(n => {
      const el = document.getElementById('onlineCount');
      if (el) el.textContent = n;
    })
    .catch(()=>{});
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="lv">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>InformÄcijas tehnoloÄ£iju speciÄlistu arodbiedrÄ«ba</title>
  <link rel="stylesheet" href="../css/style.css">

  <style>
    /* ZiÅ†u lentas â€“ ITSA (augÅ¡Ä CERT, apakÅ¡Ä LMT Technews) */
    .news-ticker {
      background: #005b96; /* saskaÅ†ots ar ITSA header â€“ zilgani tehnoloÄ£isks tonis */
      color: white;
      padding: 10px 0;
      overflow: hidden;
      white-space: nowrap;
      font-size: 18px;
      font-weight: 500;
      cursor: default;
      margin-bottom: 4px;
    }

    .news-ticker.secondary {
      background: #004067; /* nedaudz tumÅ¡Äks tonis apakÅ¡Ä“jai lentei */
      margin-top: 20px;
    }

    .news-ticker-content {
      display: inline-block;
      padding-left: 100%;
      animation: ticker 90s linear infinite; /* vienots lÄ“ns temps ar citÄm lapÄm */
    }

    .news-ticker:hover .news-ticker-content,
    .news-ticker.secondary:hover .news-ticker-content {
      animation-play-state: paused;
    }

    @keyframes ticker {
      0%   { transform: translateX(0%); }
      100% { transform: translateX(-100%); }
    }
  </style>
</head>

<body>
  <header class="home-header home-header--itsa">
    <h1>InformÄcijas tehnoloÄ£iju speciÄlistu arodbiedrÄ«ba</h1>
    <p class="subtagline">
      IT speciÄlistu darba vides un profesionÄlo intereÅ¡u aizstÄvÄ«ba â€”<br>
      <strong>par droÅ¡u, godÄ«gu un ilgtspÄ“jÄ«gu digitÄlo darba vidi LatvijÄ.</strong>
    </p>
    <nav>
      <ul>
        <li><a href="../index.html">â† AtpakaÄ¼ uz galveno lapu</a></li>
        <li><a href="index.html">SÄkums</a></li>
        <li><a href="about.html">Par mums</a></li>
        <li><a href="contact.html">Kontakti</a></li>
        <li><a href="partners.html">Partneri</a></li>
      </ul>
    </nav>
  </header>

  <!-- AUGÅ Ä’JÄ€ LENTA: CERT.LV ziÅ†as (kiberdroÅ¡Ä«ba) -->
  <div class="news-ticker">
    <span class="news-ticker-content" id="tickerItsaTop">
      IelÄdÄ“ CERT.LV kiberdroÅ¡Ä«bas ziÅ†as...
    </span>
  </div>

  <main class="home-main itsa-theme">
    <section>
      <p>
        InformÄcijas tehnoloÄ£iju speciÄlistu arodbiedrÄ«ba (ITSA) apvieno IT nozares darbiniekus, lai aizstÄvÄ“tu
        viÅ†u darba, sociÄlÄs un profesionÄlÄs intereses, veicinÄtu kvalitatÄ«vu darba vidi un atbildÄ«gu digitÄlÄ
        tirgus attÄ«stÄ«bu.
      </p>
      <p>
        ITSA Ä«paÅ¡u uzmanÄ«bu pievÄ“rÅ¡ kiberdroÅ¡Ä«bai, datu aizsardzÄ«bai, attÄlinÄtÄ darba un darba slodzes jautÄjumiem,
        kÄ arÄ« taisnÄ«gai atalgojuma un virsstundu apmaksas praksei.
      </p>
    </section>

    <section>
      <h2>Darba virzieni</h2>
      <ul class="no-style">
        <li>â€¢ Darba tiesÄ«bu un darba vides jautÄjumu uzraudzÄ«ba IT nozarÄ“.</li>
        <li>â€¢ KonsultÄcijas par datu aizsardzÄ«bu un kiberdroÅ¡Ä«bas prasÄ«bÄm.</li>
        <li>â€¢ IT speciÄlistu intereÅ¡u pÄrstÄvÄ«ba dialogÄ ar darba devÄ“jiem un valsts institÅ«cijÄm.</li>
        <li>â€¢ Nozares labÄs prakses un profesionÄlÄs Ä“tikas veicinÄÅ¡ana.</li>
      </ul>
    </section>
  </main>

  <!-- APÄ€KÅ Ä’JÄ€ LENTA: LMT Technews (tehnoloÄ£iju jaunumi) -->
  <div class="news-ticker secondary">
    <span class="news-ticker-content" id="tickerItsaBottom">
      IelÄdÄ“ LMT Technews tehnoloÄ£iju ziÅ†as...
    </span>
  </div>

  <footer>
    <p>&copy; 2008â€“2025 InformÄcijas tehnoloÄ£iju speciÄlistu arodbiedrÄ«ba</p>
  </footer>

  <script>
    // === RSS avoti (izmantojam rss2json kÄ starpnieku) ===

    // CERT.LV oficiÄlais RSS (angÄ¼u val., bet tehniski kvalitatÄ«vs)
    // Avots: starptautiskais CERT RSS saraksts: https://cert.lv/en/feed/rss/all
    const RSS_CERT = "https://api.rss2json.com/v1/api.json?rss_url=https://cert.lv/en/feed/rss/all";

    // LMT jaunumi (no lapas <link rel=\"alternate\" ... href=\"/rss/lv/\" >)
    const RSS_LMT  = "https://api.rss2json.com/v1/api.json?rss_url=https://www.lmt.lv/rss/lv/";

    function extractTitles(items, max = 10) {
      if (!items) return [];
      return items.slice(0, max).map(item => item.title);
    }

    // MazÄ helper-funkcija, lai sakÄrtotu pÄ“c datuma, ja vajadzÄ“tu apvienot vairÄkus avotus
    function extractTitlesSorted(items, max = 15) {
      return items
        .sort((a, b) => new Date(b.pubDate || b.pub_date || 0) - new Date(a.pubDate || a.pub_date || 0))
        .slice(0, max)
        .map(item => item.title);
    }

    // AUGÅ Ä’JÄ€ LENTA â€“ CERT.LV
    fetch(RSS_CERT)
      .then(r => r.json())
      .then(data => {
        const items = data.items || [];
        const titles = extractTitlesSorted(items, 15);

        const text = titles.length
          ? "ğŸ” " + titles.join(" â€¢ ")
          : "Nav pieejamu CERT.LV kiberdroÅ¡Ä«bas ziÅ†u.";

        document.getElementById("tickerItsaTop").textContent = text;
      })
      .catch(() => {
        document.getElementById("tickerItsaTop").textContent =
          "NeizdevÄs ielÄdÄ“t CERT.LV kiberdroÅ¡Ä«bas ziÅ†as.";
      });

    // APÄ€KÅ Ä’JÄ€ LENTA â€“ LMT Technews
    fetch(RSS_LMT)
      .then(r => r.json())
      .then(data => {
        const titles = extractTitles(data.items || [], 12);
        const text = titles.length
          ? "ğŸ’¡ " + titles.join(" â€¢ ")
          : "Nav pieejamu LMT Technews tehnoloÄ£iju ziÅ†u.";
        document.getElementById("tickerItsaBottom").textContent = text;
      })
      .catch(() => {
        document.getElementById("tickerItsaBottom").textContent =
          "NeizdevÄs ielÄdÄ“t LMT Technews tehnoloÄ£iju ziÅ†as.";
      });
  </script>

</body>
</html>
